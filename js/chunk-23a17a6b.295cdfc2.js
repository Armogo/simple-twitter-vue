(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23a17a6b"],{2532:function(e,t,a){"use strict";var n=a("23e7"),r=a("5a34"),s=a("1d80"),o=a("577e"),c=a("ab13");n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~o(s(this)).indexOf(o(r(e)),arguments.length>1?arguments[1]:void 0)}})},2751:function(e,t,a){"use strict";a("4fea")},"4ef5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("Navbar"),e.isLoading?e._e():a("div",{staticClass:"setting"},[a("header",[e._v("帳戶設定")]),a("div",{staticClass:"form-container"},[a("form",{attrs:{action:"",id:"setting-form"},on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.putEditUser.apply(null,arguments)}}},[a("div",{staticClass:"input-wrapper"},[a("span",[e._v("帳號")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.account,expression:"account"}],attrs:{type:"text",name:"account"},domProps:{value:e.account},on:{focus:e.focusInput,input:function(t){t.target.composing||(e.account=t.target.value)}}}),a("hr",{class:{"now-focus":"account"===e.nowFocus}})]),a("div",{staticClass:"input-wrapper"},[a("span",[e._v("名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"name"},domProps:{value:e.name},on:{focus:e.focusInput,input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("hr",{class:{"now-focus":"name"===e.nowFocus}})]),a("div",{staticClass:"input-wrapper"},[a("span",[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"email",pattern:"\\S+",title:"不接受空白鍵"},domProps:{value:e.email},on:{focus:e.focusInput,input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("hr",{class:{"now-focus":"email"===e.nowFocus}})]),a("div",{staticClass:"input-wrapper"},[a("span",[e._v("密碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"password",pattern:"\\S+",title:"不接受空白鍵"},domProps:{value:e.password},on:{focus:e.focusInput,input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("hr",{class:{"now-focus":"password"===e.nowFocus}})]),a("div",{staticClass:"input-wrapper"},[a("span",[e._v("密碼確認")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkPassword,expression:"checkPassword"}],attrs:{type:"password",name:"checkPassword",pattern:"\\S+",title:"不接受空白鍵"},domProps:{value:e.checkPassword},on:{focus:e.focusInput,input:function(t){t.target.composing||(e.checkPassword=t.target.value)}}}),a("hr",{class:{"now-focus":"checkPassword"===e.nowFocus}})])]),a("button",{attrs:{type:"submit",form:"setting-form"}},[e._v("儲存")])])])],1)},r=[],s=a("5530"),o=a("1da1"),c=(a("96cf"),a("b0c0"),a("caad"),a("2532"),a("d178")),i=a("2fa3"),u=a("c24f"),p=function(){return localStorage.getItem("user")},d={name:"Setting",components:{Navbar:c["a"]},data:function(){return{userData:{},account:"",name:"",email:"",password:"",checkPassword:"",isLoading:!0,nowFocus:""}},methods:{focusInput:function(e){this.nowFocus=e.target.name},getEditUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u["a"].getUserInfo(p());case 3:if(a=t.sent,"OK"===a.statusText){t.next=6;break}throw new Error(a.statusText);case 6:e.userData=Object(s["a"])({},a.data),e.account=e.userData.account,e.name=e.userData.name,e.email=e.userData.email,e.isLoading=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),i["a"].fire({icon:"warning",title:"伺服器忙碌中，請重新整理頁面"}),console.log("error",t.t0.response||t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()},putEditUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={account:e.account,name:e.name,email:e.email},!e.password.includes(" ")){t.next=3;break}return t.abrupt("return",i["a"].fire({icon:"warning",title:"不接受空白鍵"}));case 3:if(e.password===e.checkPassword){t.next=5;break}return t.abrupt("return",i["a"].fire({icon:"warning",title:"密碼 與 密碼確認 請輸入相同組合"}));case 5:return 0!==e.password.length&&0!==e.checkPassword.length&&(a.password=e.password,a.checkPassword=e.checkPassword),t.prev=6,t.next=9,u["a"].putEditUser(p(),a);case 9:if(n=t.sent,"OK"===n.statusText){t.next=12;break}throw new Error(n.statusText);case 12:i["a"].fire({icon:"success",title:"資料更改成功"}),e.password="",e.checkPassword="",e.getEditUser(),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](6),i["a"].fire({icon:"warning",title:"伺服器忙碌中，請稍後再試"}),console.log("error",t.t0.response||t.t0);case 22:case"end":return t.stop()}}),t,null,[[6,18]])})))()}},created:function(){Object(i["c"])(this),Object(i["d"])(this,"8347"),this.getEditUser()}},l=d,m=(a("2751"),a("2877")),f=Object(m["a"])(l,n,r,!1,null,"4ffb46fc",null);t["default"]=f.exports},"4fea":function(e,t,a){},"5a34":function(e,t,a){var n=a("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},ab13:function(e,t,a){var n=a("b622"),r=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,"/./"[e](t)}catch(n){}}return!1}},caad:function(e,t,a){"use strict";var n=a("23e7"),r=a("4d64").includes,s=a("44d2");n({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=chunk-23a17a6b.295cdfc2.js.map