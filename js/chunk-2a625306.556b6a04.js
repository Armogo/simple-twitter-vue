(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a625306"],{"0077":function(e,t,r){},"04d1":function(e,t,r){var n=r("342f"),o=n.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},"077c":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"user"},[r("Navbar",{attrs:{"initial-user":e.user}}),r("div",{staticClass:"user-self"},[r("header",[r("router-link",{attrs:{to:"/profile"}},[r("div",{staticClass:"icon-back"},[r("svg",{attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M16 5.99988H3.41399L7.70699 1.70687C8.09699 1.31687 8.09699 0.683875 7.70699 0.292875C7.31699 -0.0981249 6.68399 -0.0971249 6.29299 0.292875L0.292988 6.29288C-0.0970117 6.68288 -0.0970117 7.31588 0.292988 7.70687L6.29299 13.7069C6.48799 13.9019 6.74299 13.9999 6.99999 13.9999C7.25699 13.9999 7.51199 13.9019 7.70699 13.7069C8.09699 13.3169 8.09699 12.6839 7.70699 12.2929L3.41399 7.99988H16C16.553 7.99988 17 7.55288 17 6.99988C17 6.44688 16.553 5.99988 16 5.99988Z",fill:"black"}})])])]),r("div",{staticClass:"name-tweets"},[r("div",{staticClass:"name"},[e._v(e._s(e.user.name))]),r("div",{staticClass:"tweets"},[e._v(e._s(e.user.tweetsNum)+"推文")])])],1),r("div",{staticClass:"user-self-tabs"},[r("div",{staticClass:"followers",class:{active:"other-user-followers"===e.$route.name}},[e._v(" 跟隨者 ")]),r("div",{staticClass:"followings",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toFollowings.apply(null,arguments)}}},[e._v(" 正在跟隨 ")])]),r("div",{staticClass:"followers-card"},e._l(e.followers,(function(t){return r("div",{key:t.followerId,staticClass:"a-card"},[r("img",{staticClass:"avatar",attrs:{src:t.follower.avatar},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.othersProfile(t.followerId)}}}),r("div",{staticClass:"left"},[r("div",{staticClass:"top"},[r("div",{staticClass:"name-account"},[r("div",{staticClass:"name",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.othersProfile(t.followerId)}}},[e._v(" "+e._s(t.follower.name)+" ")]),r("div",{staticClass:"account"},[e._v("@"+e._s(t.follower.account))])]),r("div",{staticClass:"btn"},[e.currentUser.followings.includes(t.followerId)?r("div",{staticClass:"following-btn",on:{click:function(r){return e.unfollowing(t.followerId)}}},[e._v(" 正在跟隨 ")]):r("div",{staticClass:"unfollowing-btn",style:[e.currentUser.id===t.followerId?{display:"none"}:{display:"initial"}],on:{click:function(r){return e.following(t.followerId)}}},[e._v(" 跟隨 ")])])]),r("div",{staticClass:"content"},[e._v(" "+e._s(0===t.follower.introduction.length?"目前還沒有自我介紹":t.follower.introduction)+" ")])])])})),0)]),r("Popular")],1)},o=[],a=r("1da1"),s=(r("96cf"),r("a9e3"),r("b0c0"),r("d81d"),r("4e82"),r("3b8f")),i=r("d178"),c=r("2fa3"),l=r("6f71"),u=r("5dc4"),f=r("c1df"),h=r.n(f),w=function(){return localStorage.getItem("user")},d={name:"OtherUserFollowers",components:{Popular:s["a"],Navbar:i["a"]},data:function(){return{currentUser:{id:Number(w()),followings:[]},user:{id:this.$route.params.id,name:"",tweetsNum:""},followers:[],isLoading:!0}},methods:{fetchUser:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].getOtherUser(e.user.id);case 3:if(r=t.sent,n=r.data,"OK"===r.statusText){t.next=7;break}throw new Error(n.message);case 7:e.user.name=n.name,e.isLoading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](0),e.isLoading=!1,console.log("error",t.t0),c["a"].fire({icon:"warning",title:"無法載入資料"});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})))()},fetchApiTweets:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].getTweets(e.user.id);case 3:if(r=t.sent,n=r.data,"OK"===r.statusText){t.next=7;break}throw new Error(n.message);case 7:e.user.tweetsNum=n.length,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log("error",t.t0),c["a"].fire({icon:"warning",title:"無法載入資料"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},fetchFollowings:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].getFollowings(e.currentUser.id);case 3:if(r=t.sent,n=r.data,"OK"===r.statusText){t.next=7;break}throw new Error(n.message);case 7:e.currentUser.followings=n,e.currentUser.followings=e.currentUser.followings.map((function(e){return e.followingId})),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log("error",t.t0),c["a"].fire({icon:"warning",title:"無法載入資料"});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},fetchFollowers:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l["a"].getFollowers(e.user.id);case 3:if(r=t.sent,n=r.data,"OK"===r.statusText){t.next=7;break}throw new Error(n.message);case 7:e.followers=n.sort((function(e,t){return h()(t.updatedAt)-h()(e.updatedAt)})),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log("error",t.t0),c["a"].fire({icon:"warning",title:"無法載入資料"});case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()},following:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].following(e);case 3:if(n=r.sent,o=n.data,"OK"===n.statusText){r.next=7;break}throw new Error(o.message);case 7:t.$bus.$emit("follow"),t.fetchFollowers(),t.fetchFollowings(),r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),console.log("error",r.t0),c["a"].fire({icon:"warning",title:"無法追蹤"});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},unfollowing:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u["a"].unfollowing(e);case 3:if(n=r.sent,o=n.data,"OK"===n.statusText){r.next=7;break}throw new Error(o.message);case 7:t.$bus.$emit("unfollow"),t.fetchFollowers(),t.fetchFollowings(),r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),console.log("error",r.t0),c["a"].fire({icon:"warning",title:"無法取消追蹤"});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},toFollowings:function(){this.$router.push({name:"other-user-followings",id:this.user.id})},othersProfile:function(e){e===Number(w())?this.$router.push({name:"profile"}):this.$router.push({name:"other-profile",params:{id:e}})}},created:function(){var e=this;Object(c["c"])(this),Object(c["d"])(this,"8347"),this.fetchUser(),this.fetchApiTweets(),this.fetchFollowings(),this.fetchFollowers(),this.$bus.$on("change-following-state",(function(){e.fetchFollowings(),e.fetchFollowers()}))},beforeDestroy:function(){this.$bus.$off("change-following-state")}},g=d,v=(r("df10"),r("2877")),p=Object(v["a"])(g,n,o,!1,null,"37169947",null);t["default"]=p.exports},"4e82":function(e,t,r){"use strict";var n=r("23e7"),o=r("1c0b"),a=r("7b0b"),s=r("50c4"),i=r("577e"),c=r("d039"),l=r("addb"),u=r("a640"),f=r("04d1"),h=r("d998"),w=r("2d00"),d=r("512c"),g=[],v=g.sort,p=c((function(){g.sort(void 0)})),m=c((function(){g.sort(null)})),b=u("sort"),x=!c((function(){if(w)return w<70;if(!(f&&f>3)){if(h)return!0;if(d)return d<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)g.push({k:t+n,v:r})}for(g.sort((function(e,t){return t.v-e.v})),n=0;n<g.length;n++)t=g[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}})),k=p||!m||!b||!x,C=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:i(t)>i(r)?1:-1}};n({target:"Array",proto:!0,forced:k},{sort:function(e){void 0!==e&&o(e);var t=a(this);if(x)return void 0===e?v.call(t):v.call(t,e);var r,n,i=[],c=s(t.length);for(n=0;n<c;n++)n in t&&i.push(t[n]);i=l(i,C(e)),r=i.length,n=0;while(n<r)t[n]=i[n++];while(n<c)delete t[n++];return t}})},"512c":function(e,t,r){var n=r("342f"),o=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},"6f71":function(e,t,r){"use strict";var n=r("2fa3"),o=function(){return localStorage.getItem("token")};t["a"]={getUser:function(e){return n["b"].get("/api/users/".concat(e),{headers:{Authorization:"Bearer ".concat(o())}})},getOtherUser:function(e){return n["b"].get("/api/users/".concat(e,"/userInfo"),{headers:{Authorization:"Bearer ".concat(o())}})},getTweets:function(e){return n["b"].get("/api/users/".concat(e,"/tweets"),{headers:{Authorization:"Bearer ".concat(o())}})},getFollowings:function(e){return n["b"].get("/api/users/".concat(e,"/followings"),{headers:{Authorization:"Bearer ".concat(o())}})},getFollowers:function(e){return n["b"].get("/api/users/".concat(e,"/followers"),{headers:{Authorization:"Bearer ".concat(o())}})},getReplieds:function(e){return n["b"].get("/api/users/".concat(e,"/replied_tweets"),{headers:{Authorization:"Bearer ".concat(o())}})},getLikes:function(e){return n["b"].get("/api/users/".concat(e,"/likes"),{headers:{Authorization:"Bearer ".concat(o())}})},getProfile:function(e){return n["b"].get("/api/users/".concat(e,"/profile"),{headers:{Authorization:"Bearer ".concat(o())}})},getInfo:function(e){return n["b"].get("/api/users/".concat(e,"/userInfo"),{headers:{Authorization:"Bearer ".concat(o())}})},updateForm:function(e,t){var r=t.formData;return n["b"].put("/api/users/".concat(e," "),r,{headers:{Authorization:"Bearer ".concat(o())}})}}},addb:function(e,t){var r=Math.floor,n=function(e,t){var s=e.length,i=r(s/2);return s<8?o(e,t):a(n(e.slice(0,i),t),n(e.slice(i),t),t)},o=function(e,t){var r,n,o=e.length,a=1;while(a<o){n=a,r=e[a];while(n&&t(e[n-1],r)>0)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},a=function(e,t,r){var n=e.length,o=t.length,a=0,s=0,i=[];while(a<n||s<o)a<n&&s<o?i.push(r(e[a],t[s])<=0?e[a++]:t[s++]):i.push(a<n?e[a++]:t[s++]);return i};e.exports=n},d998:function(e,t,r){var n=r("342f");e.exports=/MSIE|Trident/.test(n)},df10:function(e,t,r){"use strict";r("0077")}}]);
//# sourceMappingURL=chunk-2a625306.556b6a04.js.map