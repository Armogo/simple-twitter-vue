(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac29e762"],{"04d1":function(t,e,r){var n=r("342f"),a=n.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},"2e3e":function(t,e,r){"use strict";r("b4a1")},"4e82":function(t,e,r){"use strict";var n=r("23e7"),a=r("1c0b"),o=r("7b0b"),s=r("50c4"),i=r("577e"),c=r("d039"),u=r("addb"),l=r("a640"),f=r("04d1"),h=r("d998"),g=r("2d00"),d=r("512c"),w=[],v=w.sort,p=c((function(){w.sort(void 0)})),b=c((function(){w.sort(null)})),m=l("sort"),C=!c((function(){if(g)return g<70;if(!(f&&f>3)){if(h)return!0;if(d)return d<603;var t,e,r,n,a="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)w.push({k:e+n,v:r})}for(w.sort((function(t,e){return e.v-t.v})),n=0;n<w.length;n++)e=w[n].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}})),k=p||!b||!m||!C,x=function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:i(e)>i(r)?1:-1}};n({target:"Array",proto:!0,forced:k},{sort:function(t){void 0!==t&&a(t);var e=o(this);if(C)return void 0===t?v.call(e):v.call(e,t);var r,n,i=[],c=s(e.length);for(n=0;n<c;n++)n in e&&i.push(e[n]);i=u(i,x(t)),r=i.length,n=0;while(n<r)e[n]=i[n++];while(n<c)delete e[n++];return e}})},"512c":function(t,e,r){var n=r("342f"),a=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},"6f71":function(t,e,r){"use strict";var n=r("2fa3"),a=function(){return localStorage.getItem("token")};e["a"]={getUser:function(t){return n["b"].get("/api/users/".concat(t),{headers:{Authorization:"Bearer ".concat(a())}})},getOtherUser:function(t){return n["b"].get("/api/users/".concat(t,"/userInfo"),{headers:{Authorization:"Bearer ".concat(a())}})},getTweets:function(t){return n["b"].get("/api/users/".concat(t,"/tweets"),{headers:{Authorization:"Bearer ".concat(a())}})},getFollowings:function(t){return n["b"].get("/api/users/".concat(t,"/followings"),{headers:{Authorization:"Bearer ".concat(a())}})},getFollowers:function(t){return n["b"].get("/api/users/".concat(t,"/followers"),{headers:{Authorization:"Bearer ".concat(a())}})},getReplieds:function(t){return n["b"].get("/api/users/".concat(t,"/replied_tweets"),{headers:{Authorization:"Bearer ".concat(a())}})},getLikes:function(t){return n["b"].get("/api/users/".concat(t,"/likes"),{headers:{Authorization:"Bearer ".concat(a())}})},getProfile:function(t){return n["b"].get("/api/users/".concat(t,"/profile"),{headers:{Authorization:"Bearer ".concat(a())}})},getInfo:function(t){return n["b"].get("/api/users/".concat(t,"/userInfo"),{headers:{Authorization:"Bearer ".concat(a())}})},updateForm:function(t,e){var r=e.formData;return n["b"].put("/api/users/".concat(t," "),r,{headers:{Authorization:"Bearer ".concat(a())}})}}},addb:function(t,e){var r=Math.floor,n=function(t,e){var s=t.length,i=r(s/2);return s<8?a(t,e):o(n(t.slice(0,i),e),n(t.slice(i),e),e)},a=function(t,e){var r,n,a=t.length,o=1;while(o<a){n=o,r=t[o];while(n&&e(t[n-1],r)>0)t[n]=t[--n];n!==o++&&(t[n]=r)}return t},o=function(t,e,r){var n=t.length,a=e.length,o=0,s=0,i=[];while(o<n||s<a)o<n&&s<a?i.push(r(t[o],e[s])<=0?t[o++]:e[s++]):i.push(o<n?t[o++]:e[s++]);return i};t.exports=n},b4a1:function(t,e,r){},d998:function(t,e,r){var n=r("342f");t.exports=/MSIE|Trident/.test(n)},e85a:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"user"},[r("Navbar",{attrs:{"initial-user":t.user}}),r("div",{staticClass:"user-self"},[r("header",[r("router-link",{attrs:{to:"/profile"}},[r("div",{staticClass:"icon-back"},[r("svg",{attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M16 5.99988H3.41399L7.70699 1.70687C8.09699 1.31687 8.09699 0.683875 7.70699 0.292875C7.31699 -0.0981249 6.68399 -0.0971249 6.29299 0.292875L0.292988 6.29288C-0.0970117 6.68288 -0.0970117 7.31588 0.292988 7.70687L6.29299 13.7069C6.48799 13.9019 6.74299 13.9999 6.99999 13.9999C7.25699 13.9999 7.51199 13.9019 7.70699 13.7069C8.09699 13.3169 8.09699 12.6839 7.70699 12.2929L3.41399 7.99988H16C16.553 7.99988 17 7.55288 17 6.99988C17 6.44688 16.553 5.99988 16 5.99988Z",fill:"black"}})])])]),r("div",{staticClass:"name-tweets"},[r("div",{staticClass:"name"},[t._v(t._s(t.user.name))]),r("div",{staticClass:"tweets"},[t._v(t._s(t.tweetsNum)+"推文")])])],1),r("div",{staticClass:"user-self-tabs"},[r("div",{staticClass:"followers",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toFollowers.apply(null,arguments)}}},[t._v("跟隨者")]),r("div",{staticClass:"followings",class:{active:"user-followings"===t.$route.name}},[t._v(" 正在跟隨 ")])]),r("div",{staticClass:"followers-card"},t._l(t.followings,(function(e){return r("div",{key:e.followingId,staticClass:"a-card"},[r("img",{staticClass:"avatar",attrs:{src:e.following.avatar},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.othersProfile(e.followingId)}}}),r("div",{staticClass:"left"},[r("div",{staticClass:"top"},[r("div",{staticClass:"name-account"},[r("div",{staticClass:"name",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.othersProfile(e.followingId)}}},[t._v(" "+t._s(e.following.name)+" ")]),r("div",{staticClass:"account"},[t._v("@"+t._s(e.following.account))])]),r("div",{staticClass:"btn"},[r("div",{staticClass:"following-btn",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.unfollowing(e.followingId)}}},[t._v(" 正在跟隨 ")])])]),r("div",{staticClass:"content"},[t._v(" "+t._s(0===e.following.introduction.length?"目前還沒有自我介紹":e.following.introduction)+" ")])])])})),0)]),r("Popular")],1)},a=[],o=r("1da1"),s=(r("4e82"),r("4de4"),r("a9e3"),r("96cf"),r("3b8f")),i=r("d178"),c=r("2fa3"),u=r("6f71"),l=r("5dc4"),f=r("c1df"),h=r.n(f),g=function(){return localStorage.getItem("user")},d={name:"UserFollowings",components:{Popular:s["a"],Navbar:i["a"]},data:function(){return{user:{},tweetsNum:"",followings:[],isLoading:!0}},methods:{fetchUser:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getUser(g());case 3:if(r=e.sent,n=r.data,"OK"===r.statusText){e.next=7;break}throw new Error(n.message);case 7:t.user=n,t.isLoading=!1,e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](0),t.isLoading=!1,console.log("error",e.t0),c["a"].fire({icon:"warning",title:"無法載入資料"});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))()},fetchApiTweets:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getTweets(g());case 3:if(r=e.sent,n=r.data,"OK"===r.statusText){e.next=7;break}throw new Error(n.message);case 7:t.tweetsNum=n.length,t.isLoading=!1,e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](0),t.isLoading=!1,console.log("error",e.t0),c["a"].fire({icon:"warning",title:"無法載入資料"});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))()},fetchFollowings:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getFollowings(g());case 3:if(r=e.sent,n=r.data,"OK"===r.statusText){e.next=7;break}throw new Error(n.message);case 7:t.followings=n.sort((function(t,e){return h()(e.updatedAt)-h()(t.updatedAt)})),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log("error",e.t0),c["a"].fire({icon:"warning",title:"無法載入資料"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},unfollowing:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l["a"].unfollowing(t);case 3:if(n=r.sent,a=n.data,"OK"===n.statusText){r.next=7;break}throw new Error(a.message);case 7:e.followings=e.followings.filter((function(e){return e.followingId!==t})),e.$bus.$emit("unfollow"),e.fetchFollowings(),r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](0),console.log("error",r.t0),c["a"].fire({icon:"warning",title:"無法取消追蹤"});case 16:case"end":return r.stop()}}),r,null,[[0,12]])})))()},toFollowers:function(){this.$router.push({name:"user-followers"})},othersProfile:function(t){t===Number(g())?this.$router.push({name:"profile"}):this.$router.push({name:"other-profile",params:{id:t}})}},created:function(){var t=this;Object(c["c"])(this),Object(c["d"])(this,"8347"),this.fetchUser(),this.fetchApiTweets(),this.fetchFollowings(),this.$bus.$on("change-following-state",(function(){return t.fetchFollowings()}))},beforeDestroy:function(){this.$bus.$off("change-following-state")}},w=d,v=(r("2e3e"),r("2877")),p=Object(v["a"])(w,n,a,!1,null,"12e8f26a",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-ac29e762.0ecdc640.js.map